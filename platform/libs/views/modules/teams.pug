extends ../layout

block content
	include ../static/dashboard/nav.pug
	.strip
		.contain
			.bind
				.about
					h4.what All Teams
					h6 Manage all of your teams
				.float-right.actions
					.input.sm
						input(type="text", placeholder="Search for a team")
						a #[i.material-icons search]
					a.button.invert.sm(data-modal="open", data-modal-name="modal_team") New Team
	.contain
		.inner#teams
			if (teams.length)
				.teams
					.grid-row
						.xs-12
							h6.what Created teams
						for team in teams
							if (team.creator._id.toString() == user._id.toString())
								.xs-12.s-6.m-3
									a.team(href=`/team/${team._id}`)
										.text-preview(style=`border-color:${team.color}`)
											span= team.name.substr(0,1)
										h6 #{team.name} #[span (#{team.userlist.length + 1})]
										span.created=moment(team.created_at).format("MMM Do YY")
				.teams
					.grid-row
						.xs-12
							h6.what Member in teams
						for team in teams
							if (team.creator._id.toString() != user._id.toString())
								.xs-12.s-6.m-3
									a.team(href=`/team/${team._id}`)
										.text-preview(style=`border-color:${team.color}`)
											span= team.name.substr(0,1)
										h6 #{team.name} #[span (#{team.userlist.length + 1})]
										span.created=moment(team.created_at).format("MMM Do YY")
			else
				.grid-row
					.xs-12
						.text-red No teams yet! #[a(data-modal="open", data-modal-name="modal_team") Create one]
